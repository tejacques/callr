var hubModule=function(){"use strict";var t={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the CallR client JavaScript file.",noSignalR:"SignalR was not found. Please ensure SignalR is referenced before the CallR client JavaScript file."},n=window.jQuery,i;if(typeof n!="function")throw new Error(t.nojQuery);if(typeof n.signalR!="function")throw new Error(t.noSignalR);return i=function(t){function s(t){var i=n.Deferred();return u.push([t,i]),i.promise()}function h(n){return i.flushRequests(),n}function e(n,t){return function(){var r=[].slice.call(arguments),u=function(){return n.apply(this,r)},i=s(u);return t?i:h(i)}}function o(n,t){i.rpc[n]=e(t);i.queue.rpc[n]=e(t,!0)}var r=n.connection.hub,i=n.connection[t],u,f;if(typeof r.state=="undefined"&&(r=n.hubConnection(),n.connection.hub=r,i=r.createHubProxy(t),n.connection[t]=i),i.callR)return i;i.callR=!0;i.bindEvent=i.on;i.unbindEvent=i.off;i.bindEvent("connected");i.connect=function(n,t){return r.start(n,t)};i.disconnect=function(n,t){return r.stop(n,t)};u=[];i.flushRequests=function(t){function s(n,t){n().done(function(n){t&&t.resolve(n)}).fail(function(n){t&&t.reject(n)}).always(function(){o()})}var f=u.length,e,o;if(f===0){i.connection.log("No requests to flush");typeof t=="function"&&t();return}i.connection.log("Flushing request queue");e=!1;r.state===n.signalR.connectionState.disconnected&&(e=!0);o=function(){f--;f===0&&(i.connection.log("Finished flushing request queue"),e&&i.disconnect(),typeof t=="function"&&t())};i.connect().then(function(){for(var t=u.length,n=0;n<t;n++)s(u[n][0],u[n][1]);u=[]})};i.rpc={};i.queue={rpc:{}};i.addRPC=function(t,r){function f(){var f=[].slice.call(arguments);if(u.length!==f.length)throw new Error(t+" expected "+u.length+" arguments: "+u.join(", ")+" but had "+f.length);return i.invoke.apply(i,n.merge([r],f))}var u=[].slice.call(arguments).slice(2);return o(t,f),this};for(f in i.server)i.server.hasOwnProperty(f)&&o(f,i.server[f]);return i},n.callR={init:i},n.callR}();
/*
//# sourceMappingURL=callr.min.js.map
*/