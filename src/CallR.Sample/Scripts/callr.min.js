/*!
* callr JavaScript Library v1.1.0
* https://github.com/tejacques/callr
*
* Distributed in whole under the terms of the MIT License (MIT)
*
* Copyright 2014, Tom Jacques
*
* Permission is hereby granted, free of charge, to any person obtaining
* a copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to
* the following conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
* LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
* OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
* WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
var hubModule=function(){"use strict";var t={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the CallR client JavaScript file.",noSignalR:"SignalR was not found. Please ensure SignalR is referenced before the CallR client JavaScript file."},n=window.jQuery,i;if(typeof n!="function")throw new Error(t.nojQuery);if(typeof n.signalR!="function")throw new Error(t.noSignalR);return i=function(t){function h(){}function c(t){var i=n.Deferred();return u.push([t,i]),i.promise()}function l(n){return i.flushRequests(),n}function o(t){var f,r,u;if(!t.name)throw new Error("No function name provided.");f=t.name;r=t.params;t.params||(r=[]);n.isArray(r)||(r=[r]);var e=n.merge([f],r),o={},s=!1;for(u in t)t.hasOwnProperty(u)&&u!=="name"&&u!=="params"&&(o[u]=t[u],s=!0);return s&&e.push(o),i.invoke.apply(i,e)}function f(n,t){return function(){var r=[].slice.call(arguments),u=function(){return n.apply(this,r)},i=c(u);return t?i:l(i)}}function s(n,t){i.rpc[n]=f(t);i.queue.rpc[n]=f(t,!0)}var r=n.connection.hub,i=n.connection[t],u,e;if(typeof r.state=="undefined"&&(r=n.hubConnection(),n.connection.hub=r),typeof i=="undefined"&&(i=r.createHubProxy(t),n.connection[t]=i),i.callR)return i;i.callR=!0;i.bindEvent=i.on;i.unbindEvent=i.off;i.bindEvent("connected",h);i.connect=function(n,t){return r.start(n,t)};i.disconnect=function(n,t){return r.stop(n,t)};u=[];i.flushRequests=function(t){function s(n,t){n().done(function(n){t&&t.resolve(n)}).fail(function(n){t&&t.reject(n)}).always(function(){o()})}var f=u.length,e,o;if(f===0){i.connection.log("No requests to flush");typeof t=="function"&&t();return}i.connection.log("Flushing request queue");e=!1;r.state===n.signalR.connectionState.disconnected&&(e=!0);o=function(){f--;f===0&&(i.connection.log("Finished flushing request queue"),e&&i.disconnect(),typeof t=="function"&&t())};i.connect().then(function(){for(var t=u.length,n=0;n<t;n++)s(u[n][0],u[n][1]);u=[]})};i._myRPC=f(o);i._myQueueRPC=f(o,!0);i.rpc=function(n){return i._myRPC(n)};i.queue={rpc:function(n){return i._myQueueRPC(n)}};i.addRPC=function(t){function r(){var r=[].slice.call(arguments);return i.invoke.apply(i,n.merge([t],r))}if(typeof t=="undefined")throw new Error("addRPC requires a name");return s(t,r),this};for(e in i.server)i.server.hasOwnProperty(e)&&s(e,i.server[e]);return i},n.callR={init:i},n.callR}();
/*
//# sourceMappingURL=callr.min.js.map
*/